---
---

<section class="giscus-wrapper mt-8">
  <div class="giscus"></div>
</section>

<script
  is:inline
  src="https://giscus.app/client.js"
  data-repo="devkoriel/blog.koriel.kr"
  data-repo-id=""
  data-category="Comments"
  data-category-id=""
  data-mapping="pathname"
  data-strict="0"
  data-reactions-enabled="1"
  data-emit-metadata="0"
  data-input-position="top"
  data-theme="preferred_color_scheme"
  data-lang="en"
  data-loading="lazy"
  crossorigin="anonymous"
  async
></script>

<script is:inline data-astro-rerun>
  function updateGiscusTheme() {
    const theme = document.documentElement.getAttribute("data-theme");
    const giscusFrame = document.querySelector("iframe.giscus-frame");
    if (giscusFrame) {
      giscusFrame.contentWindow.postMessage(
        {
          giscus: {
            setConfig: {
              theme: theme === "dark" ? "dark" : "light",
            },
          },
        },
        "https://giscus.app"
      );
    }
  }

  // Update theme when toggled
  const observer = new MutationObserver(() => updateGiscusTheme());
  observer.observe(document.documentElement, {
    attributes: true,
    attributeFilter: ["data-theme"],
  });
</script>
